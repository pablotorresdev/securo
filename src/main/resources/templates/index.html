<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Conitrack</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        .disabled {
            pointer-events: none;
            opacity: 0.6;
            cursor: default;
            text-decoration: none;
        }
    </style>
</head>
<body>
<div class="container">
    <h2>Home - Conitrack</h2>
    <p>Seleccione la sección</p>
    <ul>
        <hr class="my-4">
        <h4 class="mb-3 text-primary">Casos de uso</h4>
        <li>
            <a th:classappend="${#authorization.expression('!hasRole(''ADMIN'')')} ? 'disabled' : ''"
               th:href="@{/compras/ingreso-compra}">
                CU1 - Ingreso de Lote por Compra
            </a>
        </li>

        <li>
            <a th:classappend="${#authorization.expression('!hasRole(''ADMIN'')')} ? 'disabled' : ''"
               th:href="@{/calidad/cuarentena}">
                CU2 - Dictamen: Cuarentena
            </a>
        </li>

        <li>
            <a th:classappend="${#authorization.expression('!hasRole(''ADMIN'')')} ? 'disabled' : ''"
               th:href="@{/calidad/reanalisis-producto}">
                CUZ. Reanalisis de Producto Aprobado
            </a>
        </li>


        <!-- CU3 Retiro por Muestreo -->
        <li>
            <a th:classappend="${#authorization.expression('!hasRole(''ADMIN'')')} ? 'disabled' : ''"
               th:href="@{/calidad/muestreo-bulto}">
                CU3 - Retiro por Muestreo
            </a>
        </li>

        <!-- NUEVO: CU4 Devolución de Compra -->
        <li>
            <a th:classappend="${#authorization.expression('!hasRole(''ADMIN'')')} ? 'disabled' : ''"
               th:href="@{/compras/devolucion-compra}">
                CU4 - Devolución de Compra
            </a>
        </li>
        <li>
            <a th:classappend="${#authorization.expression('!hasRole(''ADMIN'')')} ? 'disabled' : ''"
               th:href="@{/calidad/resultado-analisis}">
                CU5/CU6. Resultado QA: Aprobado/Rechazado
            </a>
        </li>
        <li>
            <a th:classappend="${#authorization.expression('!hasRole(''ADMIN'')')} ? 'disabled' : ''"
               th:href="@{/produccion/consumo-produccion}">
                CU7. Consumo de Producción
            </a>
        </li>
        <li>
            <a th:classappend="${#authorization.expression('!hasRole(''ADMIN'')')} ? 'disabled' : ''"
               th:href="@{/lotes/list-fechas-lotes}">
                CU8/CU9. Consulta Fecha Reanalisis / Vencimiento
            </a>
        </li>
        <li>
            <a th:classappend="${#authorization.expression('!hasRole(''ADMIN'')')} ? 'disabled' : ''"
               th:href="@{/produccion/ingreso-produccion}">
                CU10. Ingreso de stock por Producción Interna
            </a>
        </li>
        <li>
            <a class="disabled" href="javascript:void(0);">
                CU11. Liberación Unidad de venta
            </a>
        </li>
        <li>
            <a class="disabled" href="javascript:void(0);">
                CU12. Venta de Producto Propio
            </a>
        </li>
        <li>
            <a class="disabled" href="javascript:void(0);">
                CU13. Devolución de cliente
            </a>
        </li>
        <li>
            <a class="disabled" href="javascript:void(0);">
                CU14. Retiro de mercado
            </a>
        </li>
        <li>
            <a class="disabled" href="javascript:void(0);">
                CU15. Ajuste de Inventario
            </a>
        </li>
        <li>
            <a class="disabled" href="javascript:void(0);">
                CU18. Configuración del sistema
            </a>
        </li>
        <li>
            <a class="disabled" href="javascript:void(0);">
                CU19. Reverso de Ultimo Movimiento
            </a>
        </li>

        <hr class="my-4">
        <h4 class="mb-3 text-primary">Consultas</h4>
        <li>
            <a th:classappend="${#authorization.expression('!hasRole(''ADMIN'')')} ? 'disabled' : ''"
               th:href="@{/lotes/list-lotes}">
                Lista de Lotes
            </a>
        </li>
        <li>
            <a th:classappend="${#authorization.expression('!hasRole(''ADMIN'')')} ? 'disabled' : ''"
               th:href="@{/movimientos/list-movimientos}">
                Lista de Movimientos
            </a>
        </li>
        <li>
            <a th:classappend="${#authorization.expression('!hasRole(''ADMIN'')')} ? 'disabled' : ''"
               th:href="@{/analisis/list-analisis}">
                Lista de Analisis
            </a>
        </li>

        <li>
            <a th:classappend="${#authorization.expression('!hasRole(''ADMIN'')')} ? 'disabled' : ''"
               th:href="@{/trazas/list-trazas}">
                Lista de Trazas
            </a>
        </li>

        <hr class="my-4">
        <h4 class="mb-3 text-primary">ABM Maestro</h4>
        <li>
            <a th:classappend="${#authorization.expression('!hasRole(''ADMIN'')')} ? 'disabled' : ''"
               th:href="@{/proveedores/}">
                CU16. ABM Proveedores
            </a>
        </li>
        <li>
            <a th:classappend="${#authorization.expression('!hasRole(''ADMIN'')')} ? 'disabled' : ''"
               th:href="@{/productos/}">
                CU17. ABM Productos
            </a>
        </li>
        <li>
            <a th:classappend="${#authorization.expression('!hasRole(''ADMIN'')')} ? 'disabled' : ''"
               th:href="@{/users/}">
                CUX. ABM Usuarios
            </a>
        </li>
    </ul>
</div>

<footer class="fixed-footer">
    <div class="container text-center">
        <form method="post" th:action="@{/logout}">
            <input th:name="${_csrf.parameterName}" th:value="${_csrf.token}" type="hidden"/>
            <button class="btn" type="submit">Logout</button>
        </form>
    </div>
</footer>
</body>
</html>
